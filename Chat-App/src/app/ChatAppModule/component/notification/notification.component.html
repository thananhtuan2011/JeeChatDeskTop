<style>
   ::ng-deep p{
    
    margin: 0px;
  }
</style>

<div >

  <div style="padding: 15px 15px 0 15px;" >
    <span class="titile">Thông Báo</span>
    <span (click)="DanhDauDaXem()"  [inlineSVG]="'./assets/Double-check.svg'" cacheSVG="true" matTooltip="Đánh dấu tất cả đã xem"
    class="svg-icon svg-icon-xl svg-icon-primary" style="cursor: pointer;padding-left: 10px;"></span>
</div>
<hr>
<cdk-virtual-scroll-viewport   class="example-viewport" itemSize="20">

    <!-- <div
    
      style=" max-height:60vh;position: relative;"  [perfectScrollbar]="{wheelPropagation: false}"
    > -->
      <!--begin::Item-->
      <div  class=" min-h-200px" >
        <div *ngIf="listNoti && listNoti.length == 0">
          <div style="margin-left: 100px; margin-top: 50px;">Chưa có thông báo</div>
        </div>
        <div *ngIf="listNoti.length > 0">
   
          <!-- <span [inlineSVG]="'./assets/Double-check.svg'" cacheSVG="true" matTooltip="Đánh dấu tất cả đã xem"
          class="svg-icon svg-icon-xl svg-icon-primary" (click)="DanhDauDaXem()" style="cursor: pointer;"></span> -->
          <div class="list home-links " *cdkVirtualFor="let noti of listNoti">
            <div  style="padding: 0px;"   (click)="clickRead(noti)"   class="d-flex align-items-center  noti">
              <div  style="padding-left: 10px;" class="symbol symbol-40 symbol-light-primary mr-4" *ngIf="noti.message_json.Img != null">
                <!-- <img  src="{{noti.message_json.Img}}" style="border-radius: 50%;"> -->

                <ngx-avatar [size]="45"  src="{{noti.message_json.Img}}">
                </ngx-avatar>
              </div>
              <div class="d-flex flex-column " style="padding-left: 10px;
              font-size: 15px;">
                <span class="mb-1 font-size-lg"
                [ngClass]="{'unread': !noti.isRead, 'read': noti.isRead}">
                <a style="font-weight: bold;">{{noti.message_json.Fullname?noti.message_json.Fullname:''}}</a>
                 {{(noti.message_json.Content != null&&noti.message_html=='')  ? noti.message_json.Content : noti.message_text }}
                  <span *ngIf="noti.message_json.AppCode=='JEECHAT'"  [innerHTML]="noti.message_html"></span>
                </span>
                <span [ngClass]="{'time-unread': !noti.isRead, 'time-read': noti.isRead}">{{noti.createdDate}} </span>
              </div>
              <span *ngIf="!noti.isRead" class="dot"></span> 
            </div>
            <hr  style="margin: 5px;">
            
          </div>
        </div>
      </div> 
      <!--end::Item-->

      <!--begin::Item-->
      
      <!--end::Item-->
  
    </cdk-virtual-scroll-viewport>
  </div>